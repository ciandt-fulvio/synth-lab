{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://synthlab.com/schemas/synth/v1.0.0",
  "title": "Synth (Synthetic Persona)",
  "description": "Schema completo para persona sintética brasileira com atributos demográficos, psicográficos, comportamentais e cognitivos baseados em distribuições reais do IBGE Censo 2022, PNAD 2023, PNS 2019 e pesquisas verificadas",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9]{6}$",
      "description": "Identificador único de 6 caracteres alfanuméricos"
    },
    "nome": {
      "type": "string",
      "description": "Nome completo brasileiro"
    },
    "descricao": {
      "type": "string",
      "description": "Descrição textual resumida do Synth"
    },
    "link_photo": {
      "type": "string",
      "format": "uri",
      "description": "URL para foto de perfil (avatar)"
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp de criação em ISO 8601 com timezone"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Versão do schema (semantic versioning)"
    },
    "demografia": {
      "type": "object",
      "properties": {
        "idade": {
          "type": "integer",
          "minimum": 0,
          "maximum": 120,
          "description": "Idade em anos completos"
        },
        "genero_biologico": {
          "type": "string",
          "enum": ["masculino", "feminino", "intersexo"],
          "description": "Gênero biológico"
        },
        "identidade_genero": {
          "type": "string",
          "enum": [
            "homem cis",
            "mulher cis",
            "homem trans",
            "mulher trans",
            "não-binário",
            "outro"
          ],
          "description": "Identidade de gênero autodeclarada"
        },
        "raca_etnia": {
          "type": "string",
          "enum": ["branco", "pardo", "preto", "amarelo", "indígena"],
          "description": "Raça/etnia conforme categorização IBGE"
        },
        "localizacao": {
          "type": "object",
          "properties": {
            "pais": {
              "type": "string",
              "const": "Brasil",
              "description": "País (sempre Brasil nesta versão)"
            },
            "regiao": {
              "type": "string",
              "enum": ["Norte", "Nordeste", "Centro-Oeste", "Sudeste", "Sul"],
              "description": "Região brasileira"
            },
            "estado": {
              "type": "string",
              "enum": [
                "AC", "AL", "AP", "AM", "BA", "CE", "DF", "ES", "GO", "MA",
                "MT", "MS", "MG", "PA", "PB", "PR", "PE", "PI", "RJ", "RN",
                "RS", "RO", "RR", "SC", "SP", "SE", "TO"
              ],
              "description": "Unidade Federativa (UF)"
            },
            "cidade": {
              "type": "string",
              "description": "Nome da cidade"
            }
          }
        },
        "escolaridade": {
          "type": "string",
          "enum": [
            "Sem instrução",
            "Fundamental incompleto",
            "Fundamental completo",
            "Médio incompleto",
            "Médio completo",
            "Superior incompleto",
            "Superior completo",
            "Pós-graduação"
          ],
          "description": "Nível de escolaridade conforme IBGE"
        },
        "renda_mensal": {
          "type": "number",
          "minimum": 0,
          "description": "Renda mensal individual em BRL"
        },
        "ocupacao": {
          "type": "string",
          "description": "Profissão/ocupação conforme CBO"
        },
        "estado_civil": {
          "type": "string",
          "enum": ["solteiro", "casado", "união estável", "divorciado", "viúvo"],
          "description": "Estado civil"
        },
        "composicao_familiar": {
          "type": "object",
          "properties": {
            "tipo": {
              "type": "string",
              "enum": [
                "unipessoal",
                "casal sem filhos",
                "casal com filhos",
                "monoparental",
                "multigeracional",
                "outros"
              ],
              "description": "Tipo de composição familiar"
            },
            "numero_pessoas": {
              "type": "integer",
              "minimum": 1,
              "maximum": 15,
              "description": "Número de pessoas no domicílio"
            }
          }
        }
      }
    },
    "psicografia": {
      "type": "object",
      "properties": {
        "personalidade_big_five": {
          "type": "object",
          "properties": {
            "abertura": {
              "type": "integer",
              "minimum": 0,
              "maximum": 100,
              "description": "Abertura a experiências (0=baixa, 100=alta)"
            },
            "conscienciosidade": {
              "type": "integer",
              "minimum": 0,
              "maximum": 100,
              "description": "Conscienciosidade (0=baixa, 100=alta)"
            },
            "extroversao": {
              "type": "integer",
              "minimum": 0,
              "maximum": 100,
              "description": "Extroversão (0=introvertido, 100=extrovertido)"
            },
            "amabilidade": {
              "type": "integer",
              "minimum": 0,
              "maximum": 100,
              "description": "Amabilidade (0=baixa, 100=alta)"
            },
            "neuroticismo": {
              "type": "integer",
              "minimum": 0,
              "maximum": 100,
              "description": "Neuroticismo (0=estável, 100=neurótico)"
            }
          }
        },
       "interesses": {
          "type": "array",
          "items": {"type": "string"},
          "uniqueItems": true,
          "description": "Áreas de interesse (1-4 itens, correlacionado com trait de abertura: baixa=1-2, média=2-3, alta=3-4)"
        },
        "contrato_cognitivo": {
          "type": "object",
          "properties": {
            "tipo": {
              "type": "string",
              "enum": [
                "factual",
                "narrador",
                "desconfiado",
                "racionalizador",
                "impaciente",
                "esforçado_confuso"
              ],
              "description": "Tipo do contrato cognitivo que define o padrão de resposta do synth"
            },
            "perfil_cognitivo": {
              "type": "string",
              "description": "Descrição do perfil cognitivo e comportamento esperado"
            },
            "regras": {
              "type": "array",
              "items": {"type": "string"},
              "description": "Regras de comportamento que o synth deve seguir"
            },
            "efeito_esperado": {
              "type": "string",
              "description": "Efeito esperado nas respostas do synth"
            }
          },
          "description": "Contrato cognitivo que define padrões de resposta e comportamento do synth em entrevistas. Sorteado com chances iguais entre 6 tipos."
        }
      }
    },
    "deficiencias": {
      "type": "object",
      "properties": {
        "visual": {
          "type": "object",
          "properties": {
            "tipo": {
              "type": "string",
              "enum": ["nenhuma", "leve", "moderada", "severa", "cegueira"],
              "description": "Tipo de deficiência visual (Prevalência: 3.4% da população - IBGE PNS 2019)"
            }
          }
        },
        "auditiva": {
          "type": "object",
          "properties": {
            "tipo": {
              "type": "string",
              "enum": ["nenhuma", "leve", "moderada", "severa", "surdez"],
              "description": "Tipo de deficiência auditiva (Prevalência: 1.1% da população - IBGE PNS 2019)"
            }
          }
        },
        "motora": {
          "type": "object",
          "properties": {
            "tipo": {
              "type": "string",
              "enum": ["nenhuma", "leve", "moderada", "severa"],
              "description": "Tipo de deficiência motora de membros inferiores (Prevalência: 3.8% da população - IBGE PNS 2019)"
            },
            "usa_cadeira_rodas": {
              "type": "boolean",
              "description": "Usa cadeira de rodas (tipicamente quando deficiência motora é severa)"
            }
          }
        },
        "cognitiva": {
          "type": "object",
          "properties": {
            "tipo": {
              "type": "string",
              "enum": ["nenhuma", "leve", "moderada", "severa"],
              "description": "Tipo de limitação cognitiva/mental (Prevalência: 1.2% da população - IBGE PNS 2019)"
            }
          }
        }
      }
    },
    "capacidades_tecnologicas": {
      "type": "object",
      "properties": {
        "alfabetizacao_digital": {
          "type": "integer",
          "minimum": 0,
          "maximum": 100,
          "description": "Nível de alfabetização digital"
        }
      }
    },
    "simulation_attributes": {
      "type": "object",
      "description": "Attributes for Monte Carlo feature impact simulation (v2.1.0+)",
      "properties": {
        "observables": {
          "type": "object",
          "properties": {
            "digital_literacy": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Digital literacy level (Beta(2,4) distribution)"
            },
            "similar_tool_experience": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Experience with similar tools (Beta(3,3) distribution)"
            },
            "motor_ability": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Motor ability derived from deficiencias.motora.tipo"
            },
            "time_availability": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Time available for task (Beta(2,3) distribution)"
            },
            "domain_expertise": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Domain-specific expertise (Beta(3,3) distribution)"
            }
          },
          "required": ["digital_literacy", "similar_tool_experience", "motor_ability", "time_availability", "domain_expertise"]
        },
        "latent_traits": {
          "type": "object",
          "properties": {
            "capability_mean": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Mean capability: 0.40*dl + 0.35*exp + 0.15*motor + 0.10*domain"
            },
            "trust_mean": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Mean trust level: 0.60*exp + 0.40*dl"
            },
            "friction_tolerance_mean": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Friction tolerance: 0.40*time + 0.35*dl + 0.25*exp"
            },
            "exploration_prob": {
              "type": "number",
              "minimum": 0,
              "maximum": 1,
              "description": "Exploration probability: 0.50*dl + 0.30*(1-exp) + 0.20*time"
            }
          },
          "required": ["capability_mean", "trust_mean", "friction_tolerance_mean", "exploration_prob"]
        }
      },
      "required": ["observables", "latent_traits"]
    }
  },
  "required": ["id", "nome", "descricao", "link_photo", "created_at", "version", "demografia", "psicografia", "deficiencias", "capacidades_tecnologicas"]
}
