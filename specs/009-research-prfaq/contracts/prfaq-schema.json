{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "PR-FAQ Document Schema",
  "description": "Schema for PR-FAQ documents generated from research batch reports",
  "type": "object",
  "required": ["batch_id", "press_release", "faq", "generated_at", "version"],
  "properties": {
    "batch_id": {
      "type": "string",
      "description": "Source research batch identifier",
      "minLength": 1,
      "maxLength": 100
    },
    "press_release": {
      "type": "object",
      "description": "Press Release section with customer value proposition",
      "required": ["headline", "one_liner", "problem_statement", "solution_overview"],
      "properties": {
        "headline": {
          "type": "string",
          "description": "Compelling product headline addressing main customer benefit",
          "minLength": 10,
          "maxLength": 150
        },
        "one_liner": {
          "type": "string",
          "description": "One-sentence value proposition",
          "minLength": 10,
          "maxLength": 150
        },
        "problem_statement": {
          "type": "string",
          "description": "Customer problem description identifying pain points from research",
          "minLength": 20,
          "maxLength": 500
        },
        "solution_overview": {
          "type": "string",
          "description": "Solution benefits overview explaining how it addresses problems",
          "minLength": 20,
          "maxLength": 500
        }
      },
      "additionalProperties": false
    },
    "faq": {
      "type": "array",
      "description": "Frequently Asked Questions derived from research insights",
      "minItems": 8,
      "maxItems": 12,
      "items": {
        "type": "object",
        "required": ["question", "answer", "customer_segment"],
        "properties": {
          "question": {
            "type": "string",
            "description": "FAQ question addressing customer concerns or benefits",
            "minLength": 5,
            "maxLength": 150
          },
          "answer": {
            "type": "string",
            "description": "FAQ answer grounded in research findings",
            "minLength": 20,
            "maxLength": 500
          },
          "customer_segment": {
            "type": "string",
            "description": "Synth persona archetype or customer segment this FAQ addresses",
            "minLength": 2,
            "maxLength": 50
          }
        },
        "additionalProperties": false
      }
    },
    "generated_at": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp of generation"
    },
    "version": {
      "type": "integer",
      "description": "Document version number",
      "minimum": 1
    },
    "edit_history": {
      "type": "array",
      "description": "Historical record of edits with timestamps and changes",
      "items": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "field": {
            "type": "string"
          },
          "old_value": {},
          "new_value": {}
        }
      },
      "default": []
    },
    "validation_status": {
      "type": "string",
      "enum": ["valid", "invalid", "needs_review"],
      "description": "Validation status of the document",
      "default": "valid"
    },
    "confidence_score": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Quality confidence score (0-1) based on research completeness",
      "default": 0.0
    }
  },
  "additionalProperties": false,
  "examples": [
    {
      "batch_id": "batch_001",
      "press_release": {
        "headline": "Introducing ResearchSync: Transform Customer Interviews into Strategic Documents",
        "one_liner": "AI-powered synthesis of customer research into actionable PR-FAQ documents",
        "problem_statement": "Product teams spend 40% of their time manually consolidating customer research, with synthesis taking 3-5 weeks per project",
        "solution_overview": "ResearchSync automates research synthesis, generating PR-FAQ documents in hours with standardized format and version control"
      },
      "faq": [
        {
          "question": "How much time does ResearchSync save?",
          "answer": "Reduces synthesis time from 3-5 weeks to 2-3 days, saving 80+ hours per project",
          "customer_segment": "Product Manager"
        },
        {
          "question": "Can teams collaborate on documents?",
          "answer": "Yes, with built-in editing tools, version history, and commenting for real-time collaboration",
          "customer_segment": "Product Manager"
        }
      ],
      "generated_at": "2025-12-19T10:30:00Z",
      "version": 1,
      "validation_status": "valid",
      "confidence_score": 0.85
    }
  ]
}
